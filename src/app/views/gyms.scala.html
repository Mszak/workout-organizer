@(gyms: List[Gym])

@main("Workout organizer GYMS", "nav-gyms") {

	<div>
		 GYMS
	</div>

	<div class="gyms-container">
		<ul id="gyms-list">
			@for(g <- gyms) {
				<li>
					<div class="g-name">
						@g.getName()
						<div class="g-rating" data-average="@g.getRating()" data-id="@g.getId()">
						</div>
					</div>
					<div class="g-content">
						City: @g.getAddress().getCity() <br>
						Street: @g.getAddress().getStreet() <br>
						Rating: @g.getRating() (@g.getRatingsCount())  <br>
					</div>
				</li>
			}
		</ul>
	</div>

	<script>
		$('.g-rating').jRating({
			length: 10,
			step: true,
			rateMax: 10,
			onClick: function (el, rate) {
				var id = $(el).data('id');
				$.ajax({
					method: 'POST',
					url: "/gyms/" + id,
					data: { rating: rate }
				})
			}
		});
	</script>
}